# 🀄 中国象棋网站 - 需求规格说明书 (SRS)

## 1. 项目概述

| 项目 | 说明 |
|------|------|
| **项目名称** | 楚汉棋魂 (Chinese Chess Arena) |
| **项目类型** | Web 实时对战棋类平台 |
| **核心功能** | 用户注册登录、双人对战、观战系统、棋谱记录 |
| **目标用户** | 象棋爱好者、棋手训练、赛事观战 |

---

## 2. 技术栈

### 前端
- **框架**: React 18 + TypeScript
- **样式**: Tailwind CSS + 自定义中国风主题
- **状态管理**: Zustand
- **实时通信**: WebSocket (Socket.io)
- **动画**: Framer Motion

### 后端
- **框架**: Node.js + Express
- **数据库**: MongoDB (用户数据) + Redis (实时状态)
- **实时**: Socket.io
- **认证**: JWT + bcrypt

---

## 3. 功能需求

### 3.1 用户系统
- [x] 邮箱/用户名注册
- [x] 密码登录/登出
- [x] **手机号注册登录**
- [x] **微信/QQ 第三方登录**
- [x] 用户头像、等级、胜率展示
- [x] 历史对局记录

### 3.2 实时通讯
- [x] **语音聊天 (WebRTC)**
- [x] **视频聊天 (WebRTC)**
- [x] **弹幕系统**

### 3.3 对战系统
- [ ] 创建/加入棋局
- [ ] 实时走棋 (WebSocket)
- [ ] 吃子/将军/困毙判定
- [ ] 悔棋/认输/求和
- [ ] 计时器 (读秒制)
- [ ] 棋步合法性校验

### 3.3 观战系统
- [ ] 大厅显示进行中的对局
- [ ] 观众列表
- [ ] 观战不干扰对局

### 3.4 棋谱与复盘
- [ ] 实时棋谱记录 (PGN 格式)
- [ ] 对局复盘功能
- [ ] 分享棋谱链接

---

## 4. UI/UX 设计要求

### 4.1 中国风元素
- **配色**: 朱砂红 (#C03027)、鎏金黄 (#D4AF37)、玄铁黑 (#1A1A1A)、汉白玉白 (#F5F5F0)
- **字体**: 思源宋体 (标题)、Noto Sans SC (正文)
- **图案**: 云纹、水墨、象棋棋子矢量图
- **纹理**: 榫卯结构边框、织锦纹理背景

### 4.2 页面结构
1. **首页**: 大气-banner、热门对局、登录入口
2. **大厅**: 房间列表、创建房间、在线用户
3. **对局室**: 棋盘、计时、聊天、观战列表
4. **用户中心**: 个人资料、战绩统计、棋谱收藏

---

## 5. 验收标准

- [ ] 用户可以注册、登录
- [ ] 双人可以进入同一房间对战
- [ ] 走棋实时同步 (延迟 < 100ms)
- [ ] 全部棋规正确 (帅不能出宫、马别腿、车直线等)
- [ ] 观战可以看到实时棋盘
- [ ] 页面加载 < 3s
- [ ] 移动端适配

---

## 6. 开发阶段

| 阶段 | 内容 | 预计文件 |
|------|------|----------|
| Phase 1 | 项目初始化 + UI 框架 | `frontend/` |
| Phase 2 | 后端 API + WebSocket | `server/` |
| Phase 3 | 象棋逻辑引擎 | `shared/chess-engine/` |
| Phase 4 | 对战大厅 + 房间系统 | 前后端联调 |
| Phase 5 | 观战 + 棋谱复盘 | 完整功能 |
| Phase 6 | 部署优化 | Docker |

---

**项目路径**: `/home/claw/.openclaw/workspace/chinese-chess/`
